# Destruction Zone - ê°œë°œ ë¡œê·¸

## 2025ë…„ 1ì›” 27ì¼ - Phase 1 í”„ë¡œí† íƒ€ì… ì™„ì„±

### ğŸ¯ ëª©í‘œ
Matter.js ë¬¼ë¦¬ ì—”ì§„ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ìƒˆë¡œìš´ ì•„í‚¤í…ì²˜ ê²€ì¦

---

## ğŸ“‹ ì§„í–‰ ì‚¬í•­

### 1. í”„ë¡œì íŠ¸ ì¬êµ¬ì¡°í™”

#### ê¸°ì¡´ ì½”ë“œ ì•„ì¹´ì´ë¸Œ
- **í´ë”**: `_archive/hybrid-physics-attempt-2025-01/`
- **ì´ìœ **: í•˜ì´ë¸Œë¦¬ë“œ ë¬¼ë¦¬ ë°©ì‹(ì›ë³¸ + Matter.js)ì˜ êµ¬ì¡°ì  ë¬¸ì œ
  - ì´ì¤‘ ë¬¼ë¦¬ ì‹œìŠ¤í…œìœ¼ë¡œ ì¸í•œ ë™ê¸°í™” ë¬¸ì œ
  - íšŒì „ ì œì–´ ë³µì¡ì„± (ìˆ˜ë™ + ë¬¼ë¦¬ í˜¼í•©)
  - deltaTime ì ìš© ë¶ˆì¼ì¹˜
  - ë””ë²„ê¹… ì–´ë ¤ì›€

#### ìƒˆ ë¸Œëœì¹˜ ìƒì„±
- **ë¸Œëœì¹˜**: `matter-js-rewrite`
- **ì „ëµ**: Matter.jsë¥¼ **ì¤‘ì‹¬**ì— ë‘ê³  ì²˜ìŒë¶€í„° ì¬ì„¤ê³„
- **ì›ì¹™**: ë¬¼ë¦¬ ì—”ì§„ì´ ìœ ì¼í•œ ì§„ì‹¤ì˜ ì›ì²œ (Single Source of Truth)

---

### 2. ì•„í‚¤í…ì²˜ ì„¤ê³„ ë¬¸ì„œ ì‘ì„±

**íŒŒì¼**: `ARCHITECTURE.md` (508ì¤„)

**í•µì‹¬ ì„¤ê³„ ì›ì¹™:**
1. Matter.jsê°€ ëª¨ë“  ë¬¼ë¦¬ ìƒíƒœ ê´€ë¦¬ (ìœ„ì¹˜, íšŒì „, ì†ë„)
2. ì—”í‹°í‹°ëŠ” Matter.js bodyì˜ ì–‡ì€ ë˜í¼
3. ì…ë ¥ â†’ í˜ ì ìš© â†’ Matter.js ì—…ë°ì´íŠ¸ â†’ ë Œë”ë§
4. ì¶©ëŒ ì´ë²¤íŠ¸ëŠ” Matter.jsì—ì„œ ì²˜ë¦¬

**êµ¬í˜„ ê³„íš:**
- Phase 1: í”„ë¡œí† íƒ€ì… (1-2ì‹œê°„)
- Phase 2: í•µì‹¬ ê¸°ëŠ¥ (3-4ì‹œê°„)
- Phase 3: ê²Œì„ ì‹œìŠ¤í…œ í†µí•© (2-3ì‹œê°„)
- Phase 4: ë°¸ëŸ°ì‹± ë° í´ë¦¬ì‹± (1-2ì‹œê°„)

---

### 3. Phase 1 í”„ë¡œí† íƒ€ì… êµ¬í˜„

#### íŒŒì¼ êµ¬ì¡°
**ë‹¨ì¼ íŒŒì¼ í”„ë¡œí† íƒ€ì…**: `prototype.html` (440ì¤„)
- HTML + CSS + JavaScript ëª¨ë‘ í¬í•¨
- ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ì™€ ë°˜ë³µ ê°œë°œì— ìµœì í™”

#### êµ¬í˜„ëœ ê¸°ëŠ¥

##### 3.1 Matter.js ì›”ë“œ ì„¤ì •
```javascript
const engine = Engine.create({
    gravity: { x: 0, y: 0 }  // íƒ‘ë‹¤ìš´ ë·°, ì¤‘ë ¥ ì—†ìŒ
});
```

- ê²½ê³„ ë²½ 4ê°œ (ì •ì  ë°”ë””)
- 60 FPS ê³ ì • íƒ€ì„ìŠ¤í…

##### 3.2 Tank í´ë˜ìŠ¤ (Matter.js ë˜í¼)

**ë¬¼ë¦¬ ë°”ë”” ìƒì„± - ì‚¼ê°í˜•**
```javascript
const vertices = [
    { x: size * 0.75, y: 0 },              // ì•
    { x: -size * 0.5, y: -size * 0.4 },    // ì™¼ìª½ ë’¤
    { x: -size * 0.5, y: size * 0.4 }      // ì˜¤ë¥¸ìª½ ë’¤
];

this.body = Bodies.fromVertices(x, y, [vertices], {
    density: 0.08,
    friction: 0.8,
    frictionAir: 0.12,
    // ...
});
```

**ì„¤ì • ê°€ëŠ¥í•œ íŒŒë¼ë¯¸í„°:**
- `size`: íƒ±í¬ í¬ê¸°
- `thrustPower`: ì¶”ì§„ë ¥
- `rotationSpeed`: íšŒì „ ì†ë„
- `density`: ë°€ë„ (ì§ˆëŸ‰ = ë°€ë„ Ã— ë©´ì )
- `friction`: ë§ˆì°°ë ¥
- `frictionAir`: ê³µê¸° ì €í•­
- `color`: ìƒ‰ìƒ

##### 3.3 ì´ë™ ì‹œìŠ¤í…œ

**ì¶”ì§„ë ¥ ì ìš©**
```javascript
const force = {
    x: Math.cos(this.body.angle) * forceMagnitude,
    y: Math.sin(this.body.angle) * forceMagnitude
};
Body.applyForce(this.body, this.body.position, force);
```

**ë¸Œë ˆì´í¬ ì‹œìŠ¤í…œ**
```javascript
const brakeFactor = 0.05;
Body.setVelocity(this.body, {
    x: this.body.velocity.x * (1 - brakeFactor),
    y: this.body.velocity.y * (1 - brakeFactor)
});
```

**íšŒì „ ì œì–´**
```javascript
const targetAngularVelocity = direction * rotationSpeed;
Body.setAngularVelocity(this.body, targetAngularVelocity);
```

##### 3.4 ìë™ì°¨ ìŠ¤íƒ€ì¼ ì¡°ì¢…

**ì „ì§„/í›„ì§„ì— ë”°ë¥¸ ì¡°í–¥ ë°˜ì „:**
```javascript
const steeringDirection = tank.thrust >= 0 ? 1 : -1;

if (keys['ArrowLeft']) {
    tank.rotation = -1 * steeringDirection;
} else if (keys['ArrowRight']) {
    tank.rotation = 1 * steeringDirection;
}
```

- **ì „ì§„ ì¤‘**: ì¢Œ â†’ ì™¼ìª½ íšŒì „, ìš° â†’ ì˜¤ë¥¸ìª½ íšŒì „
- **í›„ì§„ ì¤‘**: ì¢Œ â†’ ì˜¤ë¥¸ìª½ íšŒì „, ìš° â†’ ì™¼ìª½ íšŒì „ (ë°˜ëŒ€!)

##### 3.5 ì •í™•í•œ ë Œë”ë§

**ë¬¸ì œ**: ìˆ˜ë™ìœ¼ë¡œ ì •ì˜í•œ verticesì™€ Matter.jsê°€ ê³„ì‚°í•œ ì‹¤ì œ verticesê°€ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ (centroid ìë™ ê³„ì‚°)

**í•´ê²°**: Matter.jsì˜ ì‹¤ì œ verticesë¥¼ ë Œë”ë§ì— ì‚¬ìš©
```javascript
const vertices = this.body.vertices;
for (let i = 0; i < vertices.length; i++) {
    const v = Vector.sub(vertices[i], pos);
    const vRotated = Vector.rotate(v, -angle);
    ctx.lineTo(vRotated.x, vRotated.y);
}
```

**ê²°ê³¼**: ë Œë”ë§ ì‚¼ê°í˜•ê³¼ ë¬¼ë¦¬ ë°”ë””ê°€ **ì™„ë²½íˆ ì¼ì¹˜**

##### 3.6 ë””ë²„ê·¸ ì‹œìŠ¤í…œ

**D í‚¤ í† ê¸€:**
- ë¬¼ë¦¬ ë°”ë”” ìœ¤ê³½ì„  (ì´ˆë¡ìƒ‰) í‘œì‹œ
- ì¤‘ì‹¬ì  (ë¹¨ê°„ ì ) í‘œì‹œ
- ë Œë”ë§ê³¼ ë¬¼ë¦¬ì˜ ì •í™•í•œ ì¼ì¹˜ í™•ì¸ ê°€ëŠ¥

**Stats ì°½:**
```
STATS
FPS: 60
Pos: (480, 360)
Angle: 45.0Â°
Speed: 12.5 px/s
AngVel: 0.015

PHYSICS
Mass: 1.73
Density: 0.080
Friction: 0.80
```

##### 3.7 ì…ë ¥ ì²˜ë¦¬

**í™”ì‚´í‘œ í‚¤ ìŠ¤í¬ë¡¤ ë°©ì§€:**
```javascript
if (e.code.startsWith('Arrow')) {
    e.preventDefault();
}
```

**í‚¤ë³´ë“œ ë ˆì´ì•„ì›ƒ:**
- â¬†ï¸ Arrow Up: ì „ì§„
- â¬‡ï¸ Arrow Down: í›„ì§„
- â¬…ï¸ Arrow Left: ì¢ŒíšŒì „ (ì „ì§„ ì‹œ) / ìš°íšŒì „ (í›„ì§„ ì‹œ)
- â¡ï¸ Arrow Right: ìš°íšŒì „ (ì „ì§„ ì‹œ) / ì¢ŒíšŒì „ (í›„ì§„ ì‹œ)
- D: ë””ë²„ê·¸ ëª¨ë“œ í† ê¸€

---

### 4. íŒŒë¼ë¯¸í„° íŠœë‹ ê³¼ì •

#### ì´ˆê¸° ë¬¸ì œë“¤ê³¼ í•´ê²°

**ë¬¸ì œ 1: íƒ±í¬ê°€ ì›€ì§ì´ì§€ ì•ŠìŒ**
- ì›ì¸: `thrustPower: 0.0003` ë„ˆë¬´ ì•½í•¨
- í•´ê²°: `0.002` â†’ `0.2` â†’ `0.1` â†’ `0.025` â†’ `0.015` â†’ **0.01**
- êµí›ˆ: Matter.jsì˜ forceëŠ” ë§¤ìš° ì‘ì€ ê°’ì„ ìš”êµ¬

**ë¬¸ì œ 2: íšŒì „ì´ ë„ˆë¬´ ë¹ ë¦„**
- ì›ì¸: `rotationSpeed: 3.0` ë„ˆë¬´ ë†’ìŒ
- í•´ê²°: `3.0` â†’ `1.0` â†’ `0.1` â†’ `0.03` â†’ `0.015` â†’ **0.01**
- êµí›ˆ: ì´ˆê¸° ê²Œì„ ìƒíƒœëŠ” ëŠë¦¬ê²Œ, ì—…ê·¸ë ˆì´ë“œë¡œ í–¥ìƒ

**ë¬¸ì œ 3: ì‚¼ê°í˜•ìœ¼ë¡œ ë³€ê²½ í›„ ì†ë„ ì¦ê°€**
- ì›ì¸: ì‚¼ê°í˜• ë°”ë””ê°€ ì›í˜•ë³´ë‹¤ ê°€ë²¼ì›€ (ë©´ì  ì°¨ì´)
- í•´ê²°: ì¶”ì§„ë ¥ ì¬ì¡°ì •

**ë¬¸ì œ 4: ë Œë”ë§ê³¼ ë¬¼ë¦¬ ë°”ë”” ë¶ˆì¼ì¹˜**
- ì›ì¸: ìˆ˜ë™ ì •ì˜ vertices vs Matter.js ê³„ì‚° vertices (centroid ì°¨ì´)
- í•´ê²°: Matter.jsì˜ ì‹¤ì œ verticesë¥¼ ë Œë”ë§ì— ì‚¬ìš©
- ê²°ê³¼: ì™„ë²½í•œ ì¼ì¹˜

#### ìµœì¢… íŒŒë¼ë¯¸í„°

```javascript
const tank = new Tank(480, 360, {
    size: 30,              // íƒ±í¬ í¬ê¸°
    thrustPower: 0.01,     // ì¶”ì§„ë ¥
    rotationSpeed: 0.01,   // íšŒì „ ì†ë„
    density: 0.08,         // ë°€ë„ (ê¸°ë³¸ê°’)
    friction: 0.8,         // ë§ˆì°°ë ¥ (ê¸°ë³¸ê°’)
    frictionAir: 0.12,     // ê³µê¸° ì €í•­ (ê¸°ë³¸ê°’)
    color: '#00ffff'       // ìƒ‰ìƒ
});
```

---

### 5. í•µì‹¬ ê¸°ìˆ  ê²°ì •

#### 5.1 ì›í˜• vs ì‚¼ê°í˜• ë¬¼ë¦¬ ë°”ë””

**ê²°ì •**: ì‚¼ê°í˜• ì‚¬ìš© âœ…

**ì´ìœ :**
- **ì •êµí•œ ì¾Œì í•¨ ìš°ì„ **: ì‚¬ìš©ìëŠ” ì •í™•í•œ ì¶©ëŒì„ ê¸°ëŒ€
- **í™•ì¥ì„±**: ë‚˜ì¤‘ì— ì‚¬ê°í˜•, ë³µì¡í•œ ëª¨ì–‘ë„ ê°€ëŠ¥
- **ì‹œê°ì  ì¼ì¹˜**: ë³´ì´ëŠ” ê²ƒ = ì¶©ëŒí•˜ëŠ” ê²ƒ

**êµ¬í˜„:**
- `Bodies.fromVertices()` ì‚¬ìš©
- Matter.jsê°€ ìë™ìœ¼ë¡œ centroid ê³„ì‚°
- ë Œë”ë§ë„ ë™ì¼í•œ vertices ì‚¬ìš©

#### 5.2 ì§ˆëŸ‰ ì‹œìŠ¤í…œ

**ê²°ì •**: Density ê¸°ë°˜ ì§ˆëŸ‰ ì‹œìŠ¤í…œ âœ…

**ì´ìœ :**
- ì¥ê°‘ ë‘ê»˜ ì—…ê·¸ë ˆì´ë“œ ì‹œ ìë™ìœ¼ë¡œ ì§ˆëŸ‰ ì¦ê°€
- í¬ê¸°ì— ë¹„ë¡€í•˜ëŠ” í˜„ì‹¤ì ì¸ ì§ˆëŸ‰
- íƒ±í¬ íƒ€ì…ë³„ë¡œ ë‹¤ë¥¸ ë°€ë„ ì„¤ì • ê°€ëŠ¥

**ì˜ˆì‹œ:**
```javascript
// ê°€ë²¼ìš´ ì •ì°° íƒ±í¬
density: 0.05

// ì¼ë°˜ íƒ±í¬
density: 0.08

// ì¤‘ì „ì°¨ (ì¥ê°‘ ê°•í™”)
density: 0.15
```

#### 5.3 í”„ë ˆì„ ë…ë¦½ì„±

**ì£¼ì‚¬ìœ¨ ë…ë¦½ì„±**: âœ… ì™„ë²½
```javascript
Engine.update(engine, 1000 / 60);  // ê³ ì • 60 FPS timestep
```
- 30 FPSë“  120 FPSë“  ë¬¼ë¦¬ëŠ” ì¼ê´€ë˜ê²Œ ì‘ë™

**í•´ìƒë„ ë…ë¦½ì„±**: âœ… ìº”ë²„ìŠ¤ ê³ ì • í¬ê¸° (960x720)
- CSS ìŠ¤ì¼€ì¼ë§ë§Œ ì‚¬ìš©
- ê²Œì„ ê³µê°„ì€ í•­ìƒ ë™ì¼
- ì¼ê´€ëœ í”Œë ˆì´ ê²½í—˜

---

### 6. ì„±ê³µ ê¸°ì¤€ ë‹¬ì„± ì—¬ë¶€

**Phase 1 ì²´í¬ë¦¬ìŠ¤íŠ¸:**

- âœ… Matter.js ì›”ë“œ ì„¤ì •
- âœ… ê¸°ë³¸ Tank í´ë˜ìŠ¤ ì‘ì„±
- âœ… ì´ë™ êµ¬í˜„ (ì¶”ì§„ + íšŒì „)
- âœ… í‚¤ë³´ë“œ ì»¨íŠ¸ë¡¤ ì—°ê²°
- âœ… ìº”ë²„ìŠ¤ ë Œë”ë§
- âœ… ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ (60 FPS ì•ˆì •)
- âœ… ì¡°ì‘ê° í…ŒìŠ¤íŠ¸ (ìë™ì°¨ ìŠ¤íƒ€ì¼ ì¡°ì¢…)

**ì„±ê³µ ê¸°ì¤€:**
- âœ… 1ê°œ íƒ±í¬ê°€ ë¶€ë“œëŸ½ê²Œ ì›€ì§ì„ (60 FPS)
- âœ… íšŒì „ì´ ë°˜ì‘ì ì„
- âœ… ì»¨íŠ¸ë¡¤ ëŠë‚Œì´ í•˜ì´ë¸Œë¦¬ë“œ ë²„ì „ë³´ë‹¤ ì¢‹ìŒ
- âœ… ë²½ ì¶©ëŒì´ ì •í™•í•¨
- âœ… ë Œë”ë§ê³¼ ë¬¼ë¦¬ ë°”ë””ê°€ ì™„ë²½íˆ ì¼ì¹˜

---

### 7. ë°°ìš´ ì 

#### 7.1 Matter.js í˜ ë‹¨ìœ„
- `Body.applyForce()`ëŠ” ë§¤ìš° ì‘ì€ ê°’ í•„ìš” (0.01 ìˆ˜ì¤€)
- íƒ±í¬ ì§ˆëŸ‰, ë©´ì ì— ë”°ë¼ í¬ê²Œ ë‹¬ë¼ì§
- í…ŒìŠ¤íŠ¸ë¥¼ í†µí•œ ë°˜ë³µ íŠœë‹ í•„ìˆ˜

#### 7.2 Verticesì™€ Centroid
- `fromVertices()`ëŠ” ìë™ìœ¼ë¡œ ë¬´ê²Œì¤‘ì‹¬ ê³„ì‚°
- ë Œë”ë§í•  ë•Œë„ ê°™ì€ vertices ì‚¬ìš©í•´ì•¼ ì •í™•
- ìˆ˜ë™ ê³„ì‚°ë³´ë‹¤ Matter.js ê³„ì‚° ì‹ ë¢°

#### 7.3 ì‚¬ìš©ì ê²½í—˜ ìš°ì„ 
- "ì •êµí•œ ì¾Œì í•¨": ì •í™•í•œ ë¬¼ë¦¬ + ì¾Œì í•œ íŠœë‹
- ê¸°ìˆ ì  ì™„ë²½í•¨ë³´ë‹¤ ì‚¬ìš©ìê°€ ê¸°ëŒ€í•˜ëŠ” ë™ì‘ì´ ìš°ì„ 
- ì‚¼ê°í˜• ì¶©ëŒì´ ì›í˜•ë³´ë‹¤ ë³µì¡í•˜ì§€ë§Œ ì •í™•í•¨ì´ ë” ì¤‘ìš”

#### 7.4 ìë™ì°¨ ìŠ¤íƒ€ì¼ ì¡°ì¢…
- í›„ì§„ ì‹œ ì¡°í–¥ ë°˜ì „ì´ ì§ê´€ì 
- ê°„ë‹¨í•œ ì¡°ê±´ë¬¸ìœ¼ë¡œ êµ¬í˜„ ê°€ëŠ¥
- ì‚¬ìš©ì ê²½í—˜ í¬ê²Œ í–¥ìƒ

---

### 8. ë‹¤ìŒ ë‹¨ê³„ (Phase 2)

**ì˜ˆì • ì‘ì—…:**
1. Projectile í´ë˜ìŠ¤ (ë°œì‚¬ì²´)
   - Matter.js sensor body ì‚¬ìš©
   - ë‹¤ì–‘í•œ ë°œì‚¬ì²´ íƒ€ì…
2. ì¶©ëŒ ì‹œìŠ¤í…œ
   - ë°œì‚¬ì²´ â†’ íƒ±í¬ ì¶©ëŒ
   - íƒ±í¬ â†’ íƒ±í¬ ì¶©ëŒ
   - ë°ë¯¸ì§€ ê³„ì‚°
3. ê¸°ë³¸ AI
   - ì´ë™
   - ì¡°ì¤€
   - ë°œì‚¬
4. ë³µìˆ˜ íƒ±í¬ í…ŒìŠ¤íŠ¸

**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 3-4ì‹œê°„

---

## ğŸ“Š í†µê³„

- **ì‘ì—… ì‹œê°„**: ì•½ 2ì‹œê°„
- **íŒŒì¼ ìˆ˜**: 1ê°œ (prototype.html)
- **ì½”ë“œ ë¼ì¸**: 440ì¤„
- **ì»¤ë°‹**: 3ê°œ
  - Archive: í•˜ì´ë¸Œë¦¬ë“œ ì‹œë„ ë³´ê´€
  - Docs: ì•„í‚¤í…ì²˜ ë¬¸ì„œ
  - Feat: í”„ë¡œí† íƒ€ì… êµ¬í˜„

---

## ğŸ¯ ê²°ë¡ 

**Phase 1 ì„±ê³µ!** âœ…

Matter.js ê¸°ë°˜ ì•„í‚¤í…ì²˜ê°€ ì‘ë™í•¨ì„ ì¦ëª…í–ˆìŠµë‹ˆë‹¤. í•˜ì´ë¸Œë¦¬ë“œ ë°©ì‹ë³´ë‹¤:
- ì½”ë“œê°€ ë” ê°„ë‹¨í•¨
- ë””ë²„ê¹…ì´ ì‰¬ì›€
- í™•ì¥ì„±ì´ ë†’ìŒ
- ë¬¼ë¦¬ê°€ ì •í™•í•¨

ë‹¤ìŒ ë‹¨ê³„(Phase 2)ë¡œ ì§„í–‰í•  ì¤€ë¹„ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!

---

## ğŸ“ ì°¸ê³  ìë£Œ

- [Matter.js ê³µì‹ ë¬¸ì„œ](https://brm.io/matter-js/docs/)
- ARCHITECTURE.md - ì „ì²´ ì„¤ê³„ ë¬¸ì„œ
- prototype.html - ì‘ë™í•˜ëŠ” í”„ë¡œí† íƒ€ì…
